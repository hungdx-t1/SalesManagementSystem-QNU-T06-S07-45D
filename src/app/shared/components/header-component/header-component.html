<header class="app-header">
  
  <div class="header-left">
    <div class="search-wrapper">
      <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
      <input type="text" placeholder="Tìm kiếm mọi thứ..." />
    </div>
  </div>

  <div class="header-right">
    
    <button class="action-btn icon-only" *ngIf="username">
      <div class="notification-dot"></div>
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>
    </button>

    <div class="user-section" *ngIf="username; else loginTemplate">
      
      <div class="user-info">
        <span class="greeting">Xin chào,</span>
        <span class="name">{{ fullName || username }}</span>
      </div>
      
      <div class="avatar-circle">
        {{ (fullName || username | slice:0:1) || 'U' }}
      </div>

      <button class="logout-btn" (click)="logout()" title="Đăng xuất">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
      </button>

    </div>

    <ng-template #loginTemplate>
      <button class="btn-login" (click)="goToLogin()">
        Đăng nhập
      </button>
    </ng-template>

  </div>
</header>